---
title: 双向链表
author: huan_kong
createTime: 2023/11/28 15:30:13
permalink: /note/algorithm/数据结构/双向链表
---

## 介绍

优点: 可以从头到尾也可以从尾到头

缺点: 占用的内存会多一些

![image-20231129094805554](https://img.huankong.top/i/2023/11/29/6566985e3a2ca.png)

![image-20231129102812053](https://img.huankong.top/i/2023/11/29/6566a1bddb1f3.png)

## 函数讲解

### isNegativeZero

用来判断是 `0` 还是 `-0` 这样可以判断是从头部开始的第 `0` 位还是从尾部开始的第 `0` 位

### #getNode

这是我写的一个内部方法, 通过给定的索引, 找到 `node` 后返回, 如果越界了就跑出一个 `RangeError` 的错误

里面做了一些优化性能的操作

- 判断是否小于链表的长度处于二, 如果小于就从前往后循环获取, 否则就是从后往前循环
- 判断是否为头部或尾部, 直接返回

### append

可能遇到的情况:

- 链表为空, 设置头部和尾部都为插入节点
- 链表不为空, 设置插入节点的上一位为尾部, 然后设置尾部的下一位为插入节点, 然后设置尾部为插入节点

### insert

可能遇到的情况:

- 链表长度为0
  - 索引为0, 设置头部和尾部都为插入节点
  - 索引不为0, 抛出异常

- 链表长度不为0
  - 索引为0, 设置头部 ( H ) 的上一位为插入节点 ( I ) , 设置插入节点 ( I ) 的下一位为头部 ( H ) , 设置头部 ( H ) 为插入节点 ( I )
  - 索引为链表长度, 设置尾部 ( T ) 的下一位为插入节点 ( I ) , 设置插入节点 ( I ) 的上一位为尾部 ( T ) , 设置尾部 ( T ) 为插入节点 ( I )
  - 索引在中间, 取出上个节点 ( P ) , 还有当前节点 ( N ) , 因为需要插入到中间所以把这个当前位置的节点当做下个节点 ( N ) , 把上个节点 ( P ) 的下一个节点改为插入节点 ( I ) , 把当前节点 ( N ) 的上一个节点改为插入节点 ( I ) , 设置插入节点 ( I ) 的上一个节点为上个节点 ( P ) , 设置插入节点 ( I ) 的下一个节点为当前节点 ( N )

### get

直接调用 [`#getNode`](#getnode) 函数获取节点 然后再调用 `getValue` 方法即可

### indexOf

直接从 `0` 开始循环, 然后结束是到链表长度, 如果相等就返回当前的索引值, 如果循环结束还没找到那就返回 `-1`

### update

直接取出传入的索引对应的节点, 然后调用 `setValue` 方法即可

### remove

直接通过 `indexOf` 获取当前值的索引值, 判断是否为 `-1` 如果是那就返回 `false` 如果不为 `-1` 那么就调用 `this.removeAt` 方法, 把 `indexOf` 获得的索引值传给他

### removeAt

可能遇到的情况:

- 链表长度为0
  - 索引为0, 设置头部和尾部都为 `null`
  - 索引不为0, 抛出异常
- 链表长度不为0
  - 索引为0, 设置头部 ( H ) 的头部的下一个节点 ( N )
  - 索引为`链表长度 - 1`, 设置上个节点 ( P ) 的下一节点为 `null` , 设置尾部为上个节点 ( P )
  - 索引在中间, 取出上个节点 ( P ) , 还有下下个节点 ( N ) , 把上个节点 ( P ) 的下一个节点改为下下个节点 ( N ) , 把下下个节点 ( N ) 的上一个节点设置为上个节点 ( P )

### toString

根据传入的参数 `direction` 来判断是从前往后 ( PN ) 还是从后往前 ( NP ) , 如果是从前往后 ( PN ) 就让开始的 `current` 是头部, 然后 `while` 里修改的 `current` 也就是 `getNext()` 反之亦然

## TS实现

@[code typescript](./双向链表.ts)
