---
title: 宝塔搭建网站请求变成两次
author: huan_kong
createTime: 2024/07/05 13:47:20
permalink: /article/3dxnms18/
tags:
  - 后端
  - bt
---

## 0.吐槽一下

宝塔啊宝塔，争点气好嘛宝宝

## 1.复现方法

页面 `statusCode` 为 `404` 时会造成意外的重定向

## 2.影响范围

发送的 `POST` 请求被重定向成了 `GET`

## 3.解决方案

### 3.1 修改 nginx.conf

在配置中去除这一句

```txt
error_page 404 /404.html
```

这样宝塔里的 `nginx` 就不会捕获 `404` 了

### 3.2 修改返回状态码

除非！！除非你！！真的非要用宝塔！！！

我觉得就真不应该用这个方法！！！

因为这样就不符合 `RESTful API` 的设计了！！！

那就是不用 `404` 状态码 (
