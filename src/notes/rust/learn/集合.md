---
title: 集合
author: huan_kong
createTime: 2023/07/11 08:53:30
permalink: /note/rust/learn/collections
---

## Vector

### 创建

类型必须一致 如果需要不一致请看 [类型不一致](#类型不一致)

```rust
let v: Vec<i32> = Vec::new();
```

通常使用 `宏` 来初始化 `Vector`

```rust
let v = vec![1, 2, 3];
```

### 添加元素

```rust
let mut v = Vec::new();
v.push(1);
```

### 读取

直接使用索引访问

```rust
let v = vec![1, 2, 3];
println!("{}",v[0]);
```

或者使用 `match` 式

```rust
match v.get(2) {
    Some(number) => println!("{}",number),
    None => println!("value is not found"),
}
```

### 类型不一致

先使用 `enum` 定义好存在的类型
再定义 `Vector`

```rust
enum SpreadSheetCell {
    Int(i32),
    Float(f64),
    Text(String),
}

fn main() {
    let row = vec![
        SpreadSheetCell::Int(20),
        SpreadSheetCell::Float(100.001),
        SpreadSheetCell::Text(String::from("你好")),
    ];
}
```
