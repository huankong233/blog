---
title: 读取
createTime: 2023/07/02 09:09:13
permalink: /notes/pinia/选项式/读取/
---

直接使用 **下方** 的形式也可以正确取出数据，但是这是一次性的，也就是失去了 **响应式**

```vue title="HelloWorld.vue"
<template>
  <p>Count: {{ count }}</p>
</template>

<script setup lang="ts">
  import { useMainStore } from './store.ts'

  const mainStroe = useMainStore()
  const { count } = mainStroe
</script>
```

需要使用 `storeToRefs` 方法包裹一次 `mainStore` 然后再解构就可以正常取出了

原理就是把数据使用 `ref` 做了响应式代理

```vue title="HelloWorld.vue"
<template>
  <p>Count: {{ count }}</p>
</template>

<script setup lang="ts">
  import { useMainStore } from './store.ts'

  const mainStroe = useMainStore()
  const { count } = storeToRefs(mainStroe)
</script>
```
