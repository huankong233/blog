---
title: Action
author: huan_kong
createTime: 2023/07/02 09:10:08
permalink: /notes/pinia/选项式/action/
---

```ts title="store.ts"
export const useMainStore = defineStore('main', {
  // 用于存储数据
  state: () => {
    return {
      count: 0,
      arr: [1, 2, 3],
    }
  },
  // 封装业务逻辑
  actions: {
    changeArr(number: number) {
      this.count += number
      this.arr.push(123)
    },
  },
})
```

```vue title="HelloWorld.vue"
<template>
  <p>Count: {{ count }}</p>
</template>

<script setup lang="ts">
  import { useMainStore } from './store.ts'

  const mainStroe = useMainStore()
  const { count } = mainStroe

  function changeCount(number: number) {
    mainStroe.changeArr(number)
  }
</script>
```
